# ═══════════════════════════════════════════════════════════════════════════════
# RUZN-LITE ENVIRONMENT CONFIGURATION v2.1
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# ═══════════════════════════════════════════════════════════════════════════════
# DEPLOYMENT MODES (Choose ONE configuration)
# ═══════════════════════════════════════════════════════════════════════════════

# --- PUBLIC MODE (Investor demos, public presentations) ---
# PUBLIC_MODE=true
# GOV_DEMO_MODE=false
# SOVEREIGN_MODE=false

# --- GOV DEMO MODE (Private government demonstrations) ---
# PUBLIC_MODE=false
# GOV_DEMO_MODE=true
# SOVEREIGN_MODE=false

# --- SOVEREIGN MODE (Production government - NO external APIs) ---
# PUBLIC_MODE=false
# GOV_DEMO_MODE=false
# SOVEREIGN_MODE=true
# EMBEDDINGS_BACKEND=local

# Current configuration:
PUBLIC_MODE=true
GOV_DEMO_MODE=false
SOVEREIGN_MODE=false

# Enable legacy MySQL knowledge module for internal notes
INTERNAL_NOTES_MODE=true

# ═══════════════════════════════════════════════════════════════════════════════
# DATABASE (MySQL - Primary Application Database)
# ═══════════════════════════════════════════════════════════════════════════════
DATABASE_URL=mysql://ruzn_user:your_password@localhost:3306/ruzn_lite

# ═══════════════════════════════════════════════════════════════════════════════
# KNOWLEDGE BASE (PGVector - Semantic Search)
# ═══════════════════════════════════════════════════════════════════════════════

# Backend: pgvector | qdrant | sqlite_vec | mock
KNOWLEDGE_BACKEND=pgvector

# PostgreSQL with pgvector extension
# Install extension: CREATE EXTENSION IF NOT EXISTS vector;
KNOWLEDGE_PGVECTOR_URL=postgres://knowledge_user:your_password@localhost:5432/ruzn_knowledge

# Dataset version (for cache invalidation)
KNOWLEDGE_DATASET_VERSION=pgv-v1

# ═══════════════════════════════════════════════════════════════════════════════
# EMBEDDINGS
# ═══════════════════════════════════════════════════════════════════════════════

# Backend: openai | local
EMBEDDINGS_BACKEND=openai

# --- OpenAI Embeddings (for EMBEDDINGS_BACKEND=openai) ---
OPENAI_EMBED_MODEL=text-embedding-3-small
EMBEDDING_DIM=1536

# --- Local Embeddings (for EMBEDDINGS_BACKEND=local, required for SOVEREIGN_MODE) ---
# Your local embeddings HTTP service endpoint
# Expected request:  POST { "text": "query" }
# Expected response: { "embedding": [0.1, 0.2, ...] }
LOCAL_EMBEDDINGS_URL=http://localhost:8088/embed
LOCAL_EMBEDDINGS_API_KEY=
LOCAL_EMBEDDINGS_API_KEY_HEADER=X-API-Key

# ═══════════════════════════════════════════════════════════════════════════════
# LLM PROVIDERS
# ═══════════════════════════════════════════════════════════════════════════════

# Enabled providers (comma-separated)
# Currently IMPLEMENTED: deepseek
# PLANNED: openai, gemini, kimi, anthropic
# Set to "deepseek" unless you've implemented additional providers
LLM_ENABLED_PROVIDERS=deepseek

# DeepSeek (Recommended for Arabic + Reasoning)
# Get key at: https://platform.deepseek.com/
DEEPSEEK_API_KEY=

# OpenAI (Premium quality)
# Get key at: https://platform.openai.com/
OPENAI_API_KEY=

# Google Gemini (Fast & cost-effective)
# Get key at: https://aistudio.google.com/
GOOGLE_API_KEY=

# Moonshot Kimi (Good for long documents)
# Get key at: https://platform.moonshot.cn/
KIMI_API_KEY=

# Anthropic Claude (Nuanced analysis)
# Get key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Legacy Forge API (Gemini fallback)
BUILT_IN_FORGE_API_KEY=
BUILT_IN_FORGE_API_URL=https://forge.manus.im

# ═══════════════════════════════════════════════════════════════════════════════
# REDIS (Rate Limiting, Caching, Session Store)
# ═══════════════════════════════════════════════════════════════════════════════
REDIS_URL=redis://localhost:6379

# ═══════════════════════════════════════════════════════════════════════════════
# AUTHENTICATION
# Generate secrets with: openssl rand -base64 32
# ═══════════════════════════════════════════════════════════════════════════════
JWT_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_32
SESSION_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_32

# ═══════════════════════════════════════════════════════════════════════════════
# APPLICATION
# ═══════════════════════════════════════════════════════════════════════════════
NODE_ENV=development
PORT=3000

# ═══════════════════════════════════════════════════════════════════════════════
# MONITORING (Optional)
# ═══════════════════════════════════════════════════════════════════════════════
# SENTRY_DSN=https://xxx@sentry.io/xxx
