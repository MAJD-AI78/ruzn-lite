# ═══════════════════════════════════════════════════════════════════════════════
# RUZN-LITE ENVIRONMENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and configure for your environment
# NEVER commit .env to version control!
#
# Generate secrets with: openssl rand -base64 32
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# APPLICATION
# ═══════════════════════════════════════════════════════════════════════════════

NODE_ENV=development
PORT=3000

# ═══════════════════════════════════════════════════════════════════════════════
# DEPLOYMENT MODES
# ═══════════════════════════════════════════════════════════════════════════════
# Choose ONE configuration:
#
# PUBLIC MODE (demos, presentations)
#   PUBLIC_MODE=true
#   GOV_DEMO_MODE=false
#   SOVEREIGN_MODE=false
#
# GOV DEMO MODE (private government demonstrations)
#   PUBLIC_MODE=false
#   GOV_DEMO_MODE=true
#   SOVEREIGN_MODE=false
#
# SOVEREIGN MODE (production government - NO external APIs)
#   PUBLIC_MODE=false
#   GOV_DEMO_MODE=false
#   SOVEREIGN_MODE=true
#   EMBEDDINGS_BACKEND=local

PUBLIC_MODE=true
GOV_DEMO_MODE=false
SOVEREIGN_MODE=false

# Enable legacy MySQL knowledge module
INTERNAL_NOTES_MODE=false

# ═══════════════════════════════════════════════════════════════════════════════
# AUTHENTICATION
# Generate with: openssl rand -base64 32
# ═══════════════════════════════════════════════════════════════════════════════

JWT_SECRET=CHANGE_ME_use_openssl_rand_base64_32
SESSION_SECRET=CHANGE_ME_use_openssl_rand_base64_32

# ═══════════════════════════════════════════════════════════════════════════════
# DATABASE - MySQL (Primary Application)
# ═══════════════════════════════════════════════════════════════════════════════

DATABASE_URL=mysql://ruzn_user:your_secure_password@localhost:3306/ruzn_lite

# ═══════════════════════════════════════════════════════════════════════════════
# KNOWLEDGE BASE - PostgreSQL with pgvector
# ═══════════════════════════════════════════════════════════════════════════════

KNOWLEDGE_BACKEND=pgvector
KNOWLEDGE_PGVECTOR_URL=postgres://ruzn_user:your_secure_password@localhost:5432/ruzn_knowledge
KNOWLEDGE_DATASET_VERSION=v1

# ═══════════════════════════════════════════════════════════════════════════════
# EMBEDDINGS
# ═══════════════════════════════════════════════════════════════════════════════

# Backend: openai | local
EMBEDDINGS_BACKEND=openai

# OpenAI Embeddings (when EMBEDDINGS_BACKEND=openai)
OPENAI_EMBED_MODEL=text-embedding-3-small
EMBEDDING_DIM=1536

# Local Embeddings (when EMBEDDINGS_BACKEND=local, required for SOVEREIGN_MODE)
# Your local embeddings HTTP service
# Request:  POST { "text": "query" }
# Response: { "embedding": [0.1, 0.2, ...] }
LOCAL_EMBEDDINGS_URL=http://localhost:8088/embed
LOCAL_EMBEDDINGS_API_KEY=
LOCAL_EMBEDDINGS_API_KEY_HEADER=X-API-Key

# ═══════════════════════════════════════════════════════════════════════════════
# LLM PROVIDERS
# ═══════════════════════════════════════════════════════════════════════════════

# Enabled providers (comma-separated)
# Currently implemented: deepseek
# Planned: openai, gemini, kimi, anthropic
LLM_ENABLED_PROVIDERS=deepseek

# DeepSeek (default provider)
# Get key at: https://platform.deepseek.com/
DEEPSEEK_API_KEY=

# OpenAI
# Get key at: https://platform.openai.com/
OPENAI_API_KEY=

# Google Gemini
# Get key at: https://aistudio.google.com/
GOOGLE_API_KEY=

# Moonshot Kimi
# Get key at: https://platform.moonshot.cn/
KIMI_API_KEY=

# Anthropic Claude
# Get key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# ═══════════════════════════════════════════════════════════════════════════════
# REDIS (Rate Limiting, Caching)
# ═══════════════════════════════════════════════════════════════════════════════

REDIS_URL=redis://localhost:6379

# ═══════════════════════════════════════════════════════════════════════════════
# RATE LIMITING
# ═══════════════════════════════════════════════════════════════════════════════

# Requests per window
RATE_LIMIT_MAX=100

# Window size in seconds
RATE_LIMIT_WINDOW=60

# ═══════════════════════════════════════════════════════════════════════════════
# LOGGING & MONITORING (Optional)
# ═══════════════════════════════════════════════════════════════════════════════

# Log level: debug | info | warn | error
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://xxx@sentry.io/xxx

# ═══════════════════════════════════════════════════════════════════════════════
# CORS (Optional)
# ═══════════════════════════════════════════════════════════════════════════════

# Allowed origins (comma-separated)
# CORS_ORIGINS=http://localhost:3000,https://your-domain.com
